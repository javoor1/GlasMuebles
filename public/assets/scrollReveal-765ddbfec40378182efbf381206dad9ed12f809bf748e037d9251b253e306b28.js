window.scrollReveal=function(n){"use strict";function t(t){this.docElem=n.document.documentElement,this.options=this.extend(this.defaults,t),this.styleBank={},1==this.options.init&&this.init()}var o=1,r=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)};return t.prototype={defaults:{after:"0s",enter:"bottom",move:"24px",over:"0.66s",easing:"ease-in-out",opacity:0,viewportFactor:.33,reset:!1,init:!0},init:function(){this.scrolled=!1;var i=this;this.elems=Array.prototype.slice.call(this.docElem.querySelectorAll("[data-scroll-reveal]")),this.elems.forEach(function(t){var e=t.getAttribute("data-scroll-reveal-id");e||(e=o++,t.setAttribute("data-scroll-reveal-id",e)),i.styleBank[e]||(i.styleBank[e]=t.getAttribute("style")),i.update(t)});var t=function(){i.scrolled||(i.scrolled=!0,r(function(){i._scrollPage()}))},e=function(){function t(){i._scrollPage(),i.resizeTimeout=null}i.resizeTimeout&&clearTimeout(i.resizeTimeout),i.resizeTimeout=setTimeout(t,200)};n.addEventListener("scroll",t,!1),n.addEventListener("resize",e,!1)},_scrollPage:function(){var e=this;this.elems.forEach(function(t){e.update(t)}),this.scrolled=!1},parseLanguage:function(t){function e(t){var e=[],i=["from","the","and","then","but","with"];return t.forEach(function(t){-1<i.indexOf(t)||e.push(t)}),e}var i=t.getAttribute("data-scroll-reveal").split(/[, ]+/),o={};return(i=e(i)).forEach(function(t,e){switch(t){case"enter":return void(o.enter=i[e+1]);case"after":case"wait":return void(o.after=i[e+1]);case"move":return void(o.move=i[e+1]);case"ease":return o.move=i[e+1],void(o.ease="ease");case"ease-in":return o.move=i[e+1],void(o.easing="ease-in");case"ease-in-out":return o.move=i[e+1],void(o.easing="ease-in-out");case"ease-out":return o.move=i[e+1],void(o.easing="ease-out");case"over":return void(o.over=i[e+1]);default:return}}),o},update:function(t){var e=this.genCSS(t),i=this.styleBank[t.getAttribute("data-scroll-reveal-id")];if(null!=i?i+=";":i="",t.getAttribute("data-scroll-reveal-initialized")||(t.setAttribute("style",i+e.initial),t.setAttribute("data-scroll-reveal-initialized",!0)),this.isElementInViewport(t,this.options.viewportFactor)){if(!t.getAttribute("data-scroll-reveal-complete"))return this.isElementInViewport(t,this.options.viewportFactor)?(t.setAttribute("style",i+e.target+e.transition),void(this.options.reset||setTimeout(function(){""!=i?t.setAttribute("style",i):t.removeAttribute("style"),t.setAttribute("data-scroll-reveal-complete",!0)},e.totalDuration))):void 0}else this.options.reset&&t.setAttribute("style",i+e.initial+e.reset)},genCSS:function(t){var e,i,o=this.parseLanguage(t);o.enter?("top"!=o.enter&&"bottom"!=o.enter||(e=o.enter,i="y"),"left"!=o.enter&&"right"!=o.enter||(e=o.enter,i="x")):("top"!=this.options.enter&&"bottom"!=this.options.enter||(e=this.options.enter,i="y"),"left"!=this.options.enter&&"right"!=this.options.enter||(e=this.options.enter,i="x")),"top"!=e&&"left"!=e||(o.move?o.move="-"+o.move:o.move="-"+this.options.move);var r=o.move||this.options.move,s=o.over||this.options.over,n=o.after||this.options.after,a=o.easing||this.options.easing;return{transition:"-webkit-transition: -webkit-transform "+s+" "+a+" "+n+",  opacity "+s+" "+a+" "+n+";transition: transform "+s+" "+a+" "+n+", opacity "+s+" "+a+" "+n+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",initial:"-webkit-transform: translate"+i+"("+r+");transform: translate"+i+"("+r+");opacity: "+(o.opacity||this.options.opacity)+";",target:"-webkit-transform: translate"+i+"(0);transform: translate"+i+"(0);opacity: 1;",reset:"-webkit-transition: -webkit-transform "+s+" "+a+" 0s,  opacity "+s+" "+a+" "+n+";transition: transform "+s+" "+a+" 0s,  opacity "+s+" "+a+" "+n+";-webkit-perspective: 1000;-webkit-backface-visibility: hidden;",totalDuration:1e3*(parseFloat(s)+parseFloat(n))}},getViewportH:function(){var t=this.docElem.clientHeight,e=n.innerHeight;return t<e?e:t},getOffset:function(t){for(var e=0,i=0;isNaN(t.offsetTop)||(e+=t.offsetTop),isNaN(t.offsetLeft)||(i+=t.offsetLeft),t=t.offsetParent;);return{top:e,left:i}},isElementInViewport:function(t,e){var i=n.pageYOffset,o=i+this.getViewportH(),r=t.offsetHeight,s=this.getOffset(t).top;return s+r*(e=e||0)<=o&&i<=s+r||"fixed"==(t.currentStyle?t.currentStyle:n.getComputedStyle(t,null)).position},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}},t}(window);